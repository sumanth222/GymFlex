<div class="confirm-page" *ngIf="gym && booking">

  <button class="back-btn" (click)="goHome()">â† Home</button>

  <!-- ===================== -->
  <!-- PAYMENT PENDING -->
  <!-- ===================== -->
  <ng-container *ngIf="paymentState === 'pending'">

    <section class="success-header pending">
      <h1 class="title">Complete your payment</h1>
      <p class="subtitle">
        Finish the UPI payment in your app and come back here.
      </p>
    </section>

    <section class="qr-card">
      <div class="qr-info">
        <div class="gym-name">{{ gym.name }}</div>
        <div class="gym-address">{{ gym.address }}</div>

        <div class="visit-details">
          <div class="label">Amount to Pay</div>
          <div class="value price">â‚¹{{ booking.amount }}</div>
        </div>

        <div class="visit-details">
          <div class="label">Booking ID</div>
          <div class="value booking-id">{{ bookingId }}</div>
        </div>
      </div>
    </section>

    <button class="primary-btn full-width" (click)="markAsPaid()">
      Iâ€™ve Paid
    </button>

    <p class="helper-text">
      Donâ€™t close this page until payment is completed.
    </p>

  </ng-container>

  <!-- ===================== -->
  <!-- PAYMENT SUBMITTED -->
  <!-- ===================== -->
  <ng-container *ngIf="paymentState === 'submitted'">

    <section class="success-header waiting">
      <h1 class="title">Payment submitted</h1>
      <p class="subtitle">
        Weâ€™re verifying your payment. This usually takes a few minutes.
      </p>
    </section>

    <section class="info-card">
      <ul>
        <li>Do not visit the gym until payment is confirmed.</li>
        <li>Youâ€™ll see a QR code here once approved.</li>
        <li>Weâ€™ll notify you on WhatsApp.</li>
      </ul>
    </section>

  </ng-container>

  <!-- ===================== -->
  <!-- PAYMENT CONFIRMED -->
  <!-- ===================== -->
  <ng-container *ngIf="paymentState === 'confirmed'">

    <section class="success-header">
      <h1 class="title">Youâ€™re all set ğŸ‰</h1>
      <p class="subtitle">Show this QR code at the gym reception.</p>
    </section>

    <section class="qr-card">
      <div class="qr-wrapper">
        <img
          [src]="'https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=' + bookingId"
          alt="QR Code"
        />
      </div>

      <div class="qr-info">
        <div class="gym-name">{{ gym.name }}</div>
        <div class="gym-address">{{ gym.address }}</div>

        <div class="visit-details">
          <div class="label">Visit Date</div>
          <div class="value">{{ booking.date }}</div>
        </div>
      </div>
    </section>

  </ng-container>

</div>